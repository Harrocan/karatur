<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-2">
<title>KaraTur Class: Plik ¼ród³owy /var/www/localhost/htdocs/karatur/class/fighter.class.php</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Wygenerowano przez Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Strona&nbsp;g³ówna</span></a></li>
    <li><a href="annotated.html"><span>Struktury&nbsp;Danych</span></a></li>
    <li id="current"><a href="files.html"><span>Pliki</span></a></li>
    <li><a href="pages.html"><span>Dodatkowe&nbsp;strony</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>zukaj&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>Lista&nbsp;plików</span></a></li>
    <li><a href="globals.html"><span>Globalne</span></a></li>
  </ul></div>
<h1>/var/www/localhost/htdocs/karatur/class/fighter.class.php</h1><a href="fighter_8class_8php.html">Id¼ do dokumentacji tego pliku.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00014"></a>00014 require_once('player.class.php');
<a name="l00015"></a>00015 
<a name="l00017"></a>00017 
<a name="l00021"></a><a class="code" href="classFighter.html">00021</a> <span class="keyword">abstract</span> <span class="keyword">class </span><a class="code" href="classFighter.html">Fighter</a> {
<a name="l00022"></a>00022         <span class="keyword">abstract</span> function <a class="code" href="classFighter.html#e1f22e8132d46d36f2a80eaa438cfcf9">CombatGetVal</a>( $val );
<a name="l00023"></a>00023         <span class="keyword">abstract</span> function <a class="code" href="classFighter.html#8357a9848c2bb7a54a155dfa091628cf">CombatEquipWt</a>( $what, $amount );
<a name="l00024"></a>00024         <span class="keyword">abstract</span> function <a class="code" href="classFighter.html#9ad7f5bc9a6125d4bc717543b3cc67bb">AwardExp</a>( $exp );
<a name="l00025"></a>00025         <span class="keyword">abstract</span> function <a class="code" href="classFighter.html#ba21a412bcf266cebd27242c40d8467c">AwardSkill</a>( $skills );
<a name="l00026"></a>00026         <span class="keyword">abstract</span> function <a class="code" href="classFighter.html#836b5eaff9e81e0d442503c8afbfb39a">GetWpnType</a>();
<a name="l00027"></a>00027         <span class="keyword">abstract</span> function <a class="code" href="classFighter.html#6cf296bc4cfadba623234962e9fd5cab">ApplyChanges</a>();
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="classFighter.html#3d09ccbfaf355264e7f9f8ca01825e97">00029</a>         <span class="keyword">public</span> <a class="code" href="classFighter.html#3d09ccbfaf355264e7f9f8ca01825e97">$SqlDebug</a>;
<a name="l00030"></a><a class="code" href="classFighter.html#2d8311152558f2db2851ad7f8c5c109c">00030</a>         function <a class="code" href="classFighter.html#2d8311152558f2db2851ad7f8c5c109c">SqlExec</a>( $sql ) {
<a name="l00031"></a>00031                 global $db;
<a name="l00032"></a>00032                 <span class="keywordflow">if</span>( !is_array( $sql ) ) {
<a name="l00033"></a>00033                         <span class="keywordflow">if</span>( $this -&gt; SqlDebug === TRUE ) {
<a name="l00034"></a>00034                                 trigger_error( <span class="stringliteral">"Wykonuje zapytanie: $sql"</span>, E_USER_NOTICE );
<a name="l00035"></a>00035                         }
<a name="l00036"></a>00036                         <span class="comment">//echo $sql;</span>
<a name="l00037"></a>00037                         $return = $db -&gt; Execute( $sql ) or trigger_error( <span class="stringliteral">"Nie moge wykonac zapytania: $sql&lt;br&gt;"</span>.$db -&gt; ErrorMsg(), E_USER_ERROR );
<a name="l00038"></a>00038                         <span class="keywordflow">if</span>( strcasecmp( substr( $sql, 0, 6 ), 'INSERT' ) === 0 ) {
<a name="l00039"></a>00039                                         $return = $db -&gt; Insert_ID();
<a name="l00040"></a>00040                                 }
<a name="l00041"></a>00041                         <span class="keywordflow">return</span> $return;
<a name="l00042"></a>00042                 }
<a name="l00043"></a>00043                 <span class="keywordflow">else</span> {
<a name="l00044"></a>00044                         foreach( $sql as $key =&gt; $query ) {
<a name="l00045"></a>00045                                 <span class="keywordflow">if</span>( $this -&gt; SqlDebug === TRUE ) {
<a name="l00046"></a>00046                                         trigger_error( <span class="stringliteral">"Wykonuje zapytanie: [$key] =&gt; $query"</span>, E_USER_NOTICE );
<a name="l00047"></a>00047                                 }
<a name="l00048"></a>00048                                 
<a name="l00049"></a>00049                                 $return[$key] = $db -&gt; Execute( $query ) or trigger_error( <span class="stringliteral">"Nie moge wykonac zapytania: [$key] =&gt; $query&lt;br&gt;"</span>.$db -&gt; ErrorMsg(), E_USER_ERROR );
<a name="l00050"></a>00050                                 <span class="keywordflow">if</span>( strcasecmp( substr( $query, 0, 6 ), 'INSERT' ) === 0 ) {
<a name="l00051"></a>00051                                         $return[$key] = $db -&gt; Insert_ID();
<a name="l00052"></a>00052                                 }
<a name="l00053"></a>00053 <span class="comment">//                              print_r( $db );</span>
<a name="l00054"></a>00054                         }
<a name="l00055"></a>00055                         <span class="keywordflow">return</span> $return;
<a name="l00056"></a>00056                 }
<a name="l00057"></a>00057         }
<a name="l00058"></a>00058 }
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="keyword">class </span>Fighter_player Extends <a class="code" href="classFighter.html">Fighter</a> {
<a name="l00061"></a><a class="code" href="classFighter.html#d343627a12e8e41e10d4c9c6527c4471">00061</a>         <span class="keyword">public</span> $pl;
<a name="l00062"></a><a class="code" href="classFighter.html#d1a762b0b748ce352ca33c4eede22d90">00062</a>         <span class="keyword">public</span> $equip;
<a name="l00063"></a><a class="code" href="classFighter.html#87132d9a8114b40fb59103463eb28359">00063</a>         <span class="keyword">public</span> $type;
<a name="l00064"></a><a class="code" href="classFighter.html#ad9215acff8f2f5e046b3d64e9aab4b0">00064</a>         <span class="keyword">private</span> $fatugie;
<a name="l00065"></a><a class="code" href="classFighter.html#c5a41b273ab3c44e7aee9400b307a7bc">00065</a>         <span class="keyword">private</span> $stats;
<a name="l00066"></a><a class="code" href="classFighter.html#13a012aa4198885f1ec7cbb9dd8eb27a">00066</a>         <span class="keyword">private</span> $statarr;
<a name="l00067"></a><a class="code" href="classFighter.html#935c849225d6d6a9d59bd9754fae4abd">00067</a>         <span class="keyword">private</span> $sync;
<a name="l00068"></a><a class="code" href="classFighter.html#b9a5d5c17d09613a08b6e81d9a043d4e">00068</a>         function __construct( $pid ) {
<a name="l00069"></a>00069                 $pl = <span class="keyword">new</span> <a class="code" href="classPlayer.html">Player</a>( $pid );
<a name="l00070"></a>00070                 <span class="keywordflow">if</span>( $pl -&gt; created === FALSE ) {
<a name="l00071"></a>00071                         trigger_error( <span class="stringliteral">"Nie mozna utworzyc obiektu klasy Fighter_player !"</span>,E_USER_ERROR);
<a name="l00072"></a>00072                 }
<a name="l00073"></a>00073                 $statarr = array( 'str'=&gt;'str<span class="charliteral">','</span>dex'=&gt;'dex<span class="charliteral">','</span>con'=&gt;'con<span class="charliteral">','</span><span class="keywordtype">int</span>'=&gt;'<span class="keywordtype">int</span><span class="charliteral">','</span>spd'=&gt;'spd<span class="charliteral">','</span>wis'=&gt;'wis<span class="charliteral">','</span>hp'=&gt;'hp<span class="charliteral">','</span>hp_max'=&gt;'hp_max<span class="charliteral">','</span>mana'=&gt;'mana<span class="charliteral">','</span>mana_max'=&gt;'mana_max<span class="charliteral">','</span>energy'=&gt;'energy<span class="charliteral">','</span>name'=&gt;'user<span class="charliteral">','</span><span class="keywordtype">id</span>'=&gt;'<span class="keywordtype">id</span><span class="charliteral">','</span>level'=&gt;'level<span class="charliteral">','</span>gold'=&gt;'gold');
<a name="l00074"></a>00074                 $this -&gt; statarr = $statarr;
<a name="l00075"></a>00075                 $this -&gt; pl = $pl;
<a name="l00076"></a>00076                 $this -&gt; stats = array();
<a name="l00077"></a>00077                 foreach( $statarr as $key =&gt;$item ) {
<a name="l00078"></a>00078                         $this -&gt; stats[$key] = $pl -&gt; $item;
<a name="l00079"></a>00079                 }
<a name="l00080"></a>00080                 $this -&gt; equip =  $pl -&gt; GetEquipped();
<a name="l00081"></a>00081                 <span class="comment">//print_r( $this -&gt; equip );</span>
<a name="l00082"></a>00082                 $this -&gt; type = 'player';
<a name="l00083"></a>00083                 $this -&gt; stats['fatigue'] = $pl -&gt; con;
<a name="l00084"></a>00084                 $this -&gt; sync = TRUE;
<a name="l00085"></a>00085         }
<a name="l00086"></a>00086         
<a name="l00087"></a><a class="code" href="classFighter.html#5c4b23b5a8357c7068762695540644a7">00087</a>         function __get( $val ) {
<a name="l00088"></a>00088                 <span class="keywordflow">return</span> $this -&gt; GetStat( $val );
<a name="l00089"></a>00089         }
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="classFighter.html#6f6fb1b76d74b1660d6cbccff7b3520e">00091</a>         function __set( $field, $val ) {
<a name="l00092"></a>00092                 <span class="keywordflow">if</span>( !isset( $this -&gt; stats[$field] ) ) {
<a name="l00093"></a>00093                         trigger_error( <span class="stringliteral">"Nieobslugwiwana wartosc __set :: $field !"</span>, E_USER_WARNING );
<a name="l00094"></a>00094                         <span class="keywordflow">return</span> FALSE;
<a name="l00095"></a>00095                 }
<a name="l00096"></a>00096                 $this -&gt; stats[$field] = $val;
<a name="l00097"></a>00097                 $this -&gt; sync = FALSE;
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="classFighter.html#ccc7e20c14f662b14e659aa0b0c8e503">00100</a>         function GetStat( $stat ) {
<a name="l00101"></a>00101                 <span class="keywordflow">if</span>( !isset( $this -&gt; stats[$stat] ) ) {
<a name="l00102"></a>00102                         trigger_error( <span class="stringliteral">"Nieobslugwiwana wartosc GetStat :: $stat !"</span>, E_USER_WARNING );
<a name="l00103"></a>00103                         <span class="keywordflow">return</span> FALSE;
<a name="l00104"></a>00104                 }
<a name="l00105"></a>00105                 <span class="keywordflow">return</span> $this -&gt; stats[$stat];
<a name="l00106"></a>00106                 <span class="comment">/*</span>
<a name="l00107"></a>00107 <span class="comment">                switch ( $stat ) {</span>
<a name="l00108"></a>00108 <span class="comment">                        case 'name' :</span>
<a name="l00109"></a>00109 <span class="comment">                                return $this -&gt; pl -&gt; user;</span>
<a name="l00110"></a>00110 <span class="comment">                                break;</span>
<a name="l00111"></a>00111 <span class="comment">                        case 'hp' :</span>
<a name="l00112"></a>00112 <span class="comment">                                return $this -&gt; pl -&gt; hp;</span>
<a name="l00113"></a>00113 <span class="comment">                                break;</span>
<a name="l00114"></a>00114 <span class="comment">                        case 'con' :</span>
<a name="l00115"></a>00115 <span class="comment">                                return $this -&gt; pl -&gt; con;</span>
<a name="l00116"></a>00116 <span class="comment">                                break;</span>
<a name="l00117"></a>00117 <span class="comment">                        case 'str' :</span>
<a name="l00118"></a>00118 <span class="comment">                                return $this -&gt; pl -&gt; str;</span>
<a name="l00119"></a>00119 <span class="comment">                                break;</span>
<a name="l00120"></a>00120 <span class="comment">                        case 'spd' :</span>
<a name="l00121"></a>00121 <span class="comment">                                return $this -&gt; pl -&gt; spd;</span>
<a name="l00122"></a>00122 <span class="comment">                        case 'dex' :</span>
<a name="l00123"></a>00123 <span class="comment">                                return $this -&gt; pl -&gt; dex;</span>
<a name="l00124"></a>00124 <span class="comment">                        case 'fatigue' :</span>
<a name="l00125"></a>00125 <span class="comment">                                return 1;</span>
<a name="l00126"></a>00126 <span class="comment">                                break;</span>
<a name="l00127"></a>00127 <span class="comment">                        default :</span>
<a name="l00128"></a>00128 <span class="comment">                                </span>
<a name="l00129"></a>00129 <span class="comment">                }*/</span>
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131         
<a name="l00132"></a><a class="code" href="classFighter.html#9ad7f5bc9a6125d4bc717543b3cc67bb">00132</a>         function AwardExp( $exp ){
<a name="l00133"></a>00133                 <span class="keywordflow">if</span>( $exp &lt;= 0 )
<a name="l00134"></a>00134                         <span class="keywordflow">return</span> TRUE;
<a name="l00135"></a>00135                 $this -&gt; pl -&gt; AwardExp( $exp, TRUE );
<a name="l00136"></a>00136                 PutSignal( $this -&gt; <span class="keywordtype">id</span>, 'misc' );
<a name="l00137"></a>00137                 <span class="keywordflow">return</span> TRUE;
<a name="l00138"></a>00138         }
<a name="l00139"></a><a class="code" href="classFighter.html#ba21a412bcf266cebd27242c40d8467c">00139</a>         function AwardSkill( $skills ){
<a name="l00140"></a>00140                 foreach( $skills as $skill =&gt; $amount ) {
<a name="l00141"></a>00141                         <span class="keywordflow">if</span>( $amount &gt; 0 )
<a name="l00142"></a>00142                                 $this -&gt; pl -&gt; $skill += $amount;
<a name="l00143"></a>00143                 }
<a name="l00144"></a>00144                 PutSignal( $this -&gt; <span class="keywordtype">id</span>, 'skills' );
<a name="l00145"></a>00145                 <span class="keywordflow">return</span> TRUE;
<a name="l00146"></a>00146         }
<a name="l00147"></a>00147 
<a name="l00148"></a><a class="code" href="classFighter.html#836b5eaff9e81e0d442503c8afbfb39a">00148</a>         function GetWpnType() {
<a name="l00149"></a>00149                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['spellatk'] ) )
<a name="l00150"></a>00150                         <span class="keywordflow">return</span> 'spell';
<a name="l00151"></a>00151                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['weapon'] ) )
<a name="l00152"></a>00152                         <span class="keywordflow">return</span> 'weapon';
<a name="l00153"></a>00153                 <span class="keywordflow">return</span> 'none';
<a name="l00154"></a>00154         }
<a name="l00155"></a>00155         
<a name="l00157"></a>00157 
<a name="l00173"></a><a class="code" href="classFighter.html#325bec9be03e4451193f8ab3a75eb7ea">00173</a>         function CombatGetVal( $field ) {
<a name="l00174"></a>00174                 $val = 0;
<a name="l00175"></a>00175                 $bon = 0;
<a name="l00176"></a>00176                 $pen = 0;
<a name="l00177"></a>00177                 <span class="keywordflow">switch</span> ( $field ) {
<a name="l00178"></a>00178                         <span class="keywordflow">case</span> 'armor' :
<a name="l00179"></a>00179                                 $val = $this -&gt; con;
<a name="l00180"></a>00180                                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['armor'] ) ) {
<a name="l00181"></a>00181                                         $val += $this -&gt; equip['armor']['power'];
<a name="l00182"></a>00182                                 }
<a name="l00183"></a>00183                                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['shield'] ) ) {
<a name="l00184"></a>00184                                         $val += $this -&gt; equip['shield']['power'];
<a name="l00185"></a>00185                                 }
<a name="l00186"></a>00186                                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['knee'] ) ) {
<a name="l00187"></a>00187                                         $val += $this -&gt; equip['knee']['power'];
<a name="l00188"></a>00188                                 }
<a name="l00189"></a>00189                                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['helm'] ) ) {
<a name="l00190"></a>00190                                         $val += $this -&gt; equip['helm']['power'];
<a name="l00191"></a>00191                                 }
<a name="l00192"></a>00192                                 <span class="keywordflow">if</span>( in_array( $this -&gt; pl -&gt; clas, array( 'Wojownik', 'Barbarzynca' ) ) ) {
<a name="l00193"></a>00193                                         $val += $this -&gt; pl -&gt; level;
<a name="l00194"></a>00194                                 }
<a name="l00195"></a>00195                                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['spelldef'] ) ) {
<a name="l00196"></a>00196                                         $mdef = $this -&gt; pl -&gt; wis * $this -&gt; equip['spelldef']['power'];
<a name="l00197"></a>00197                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['armor'] ) &amp;&amp; $this -&gt; equip['armor']['type'] != <span class="charliteral">'Z'</span> ) {
<a name="l00198"></a>00198                                                 $pen += $mdef * ( $this -&gt; equip['armor']['minlev'] / 100 );
<a name="l00199"></a>00199                                         }
<a name="l00200"></a>00200                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['helm'] ) ) {
<a name="l00201"></a>00201                                                 $pen += $mdef * ( $this -&gt; equip['helm']['minlev'] / 100 );
<a name="l00202"></a>00202                                         }
<a name="l00203"></a>00203                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['shield'] ) ) {
<a name="l00204"></a>00204                                                 $pen += $mdef * ( $this -&gt; equip['shield']['minlev'] / 100 );
<a name="l00205"></a>00205                                         }
<a name="l00206"></a>00206                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['knee'] ) ) {
<a name="l00207"></a>00207                                                 $pen += $mdef * ( $this -&gt; equip['knee']['minlev'] / 100 );
<a name="l00208"></a>00208                                         }
<a name="l00209"></a>00209                                         <span class="keywordflow">if</span>( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'S'</span> ) {
<a name="l00210"></a>00210                                                 $bon += $mdef * ( $this -&gt; equip['weapon']['power'] / 100 );
<a name="l00211"></a>00211                                         }
<a name="l00212"></a>00212                                         <span class="keywordflow">if</span>( $this -&gt; mana &gt; $this -&gt; equip['spelldef']['power'] )
<a name="l00213"></a>00213                                                 $val = $val + $mdef + $bon - $pen;
<a name="l00214"></a>00214                                 }
<a name="l00215"></a>00215                                 <span class="keywordflow">return</span> round( $val );
<a name="l00216"></a>00216                                 <span class="keywordflow">break</span>;
<a name="l00217"></a>00217                         <span class="keywordflow">case</span> 'damage' :
<a name="l00218"></a>00218                                 <span class="keywordflow">if</span>( !empty( $this -&gt; equip['spellatk'] ) ) {
<a name="l00219"></a>00219                                         <span class="keywordflow">if</span>( $this -&gt; mana &lt; $this -&gt; equip['spellatk']['minlev'] ) {
<a name="l00220"></a>00220                                                 <span class="keywordflow">return</span> 0;
<a name="l00221"></a>00221                                         }
<a name="l00222"></a>00222                                         $val = $this -&gt; pl -&gt; <span class="keywordtype">int</span> * $this -&gt; equip['spellatk']['power'];
<a name="l00223"></a>00223                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['armor'] ) ) {
<a name="l00224"></a>00224                                                 $pen += $val * ( $this -&gt; equip['armor']['minlev'] / 100 );
<a name="l00225"></a>00225                                         }
<a name="l00226"></a>00226                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['helm'] ) ) {
<a name="l00227"></a>00227                                                 $pen += $val * ( $this -&gt; equip['helm']['minlev'] / 100 );
<a name="l00228"></a>00228                                         }
<a name="l00229"></a>00229                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['shield'] ) ) {
<a name="l00230"></a>00230                                                 $pen += $val * ( $this -&gt; equip['shield']['minlev'] / 100 );
<a name="l00231"></a>00231                                         }
<a name="l00232"></a>00232                                         <span class="keywordflow">if</span>( !empty( $this -&gt; equip['knee'] ) ) {
<a name="l00233"></a>00233                                                 $pen += $val * ( $this -&gt; equip['knee']['minlev'] / 100 );
<a name="l00234"></a>00234                                         }
<a name="l00235"></a>00235                                         <span class="keywordflow">if</span>( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'S'</span> ) {
<a name="l00236"></a>00236                                                 $bon += $val * ( $this -&gt; equip['weapon']['power'] / 100 );
<a name="l00237"></a>00237                                         }
<a name="l00238"></a>00238                                         $val = $val + $bon - $pen;
<a name="l00239"></a>00239                                         
<a name="l00240"></a>00240                                 }
<a name="l00241"></a>00241                                 <span class="keywordflow">else</span> {
<a name="l00242"></a>00242                                         <span class="keywordflow">if</span>( empty( $this -&gt;equip['weapon'] ) ) {
<a name="l00243"></a>00243                                                 <span class="keywordflow">return</span> 0;
<a name="l00244"></a>00244                                         }
<a name="l00245"></a>00245                                         $val = $this -&gt; equip['weapon']['power'];
<a name="l00246"></a>00246                                         <span class="keywordflow">if</span>( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'W'</span> ) {
<a name="l00247"></a>00247                                                 $val += $this -&gt; pl -&gt; str;
<a name="l00248"></a>00248                                                 <span class="keywordflow">if</span>( $this -&gt;equip['weapon']['poison'] &gt; 0 )
<a name="l00249"></a>00249                                                         $val += $this -&gt; equip['weapon']['poison'];
<a name="l00250"></a>00250                                         }
<a name="l00251"></a>00251                                         elseif( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'B'</span> ) {
<a name="l00252"></a>00252                                                 <span class="keywordflow">if</span>( empty( $this -&gt; equip['arrows'] ) ) {
<a name="l00253"></a>00253                                                         <span class="keywordflow">return</span> 0;
<a name="l00254"></a>00254                                                 }
<a name="l00255"></a>00255                                                 $val += ( $this -&gt; pl -&gt; str + $this -&gt; pl -&gt; dex ) / 2;
<a name="l00256"></a>00256                                                 $val += $this -&gt; equip['arrows']['power'];
<a name="l00257"></a>00257                                         }
<a name="l00258"></a>00258                                         
<a name="l00259"></a>00259                                         <span class="keywordflow">if</span>( in_array( $this -&gt; pl -&gt; clas, array( 'Wojownik', 'Barbarzynca' ) ) ) {
<a name="l00260"></a>00260                                                 $val += $this -&gt; pl -&gt; level;
<a name="l00261"></a>00261                                         }
<a name="l00262"></a>00262                                 }
<a name="l00263"></a>00263                                 $randbon = (rand(1,($this -&gt; pl -&gt; level * 10)));
<a name="l00264"></a>00264                                 $val += $randbon;
<a name="l00265"></a>00265                                 <span class="keywordflow">if</span>( $val &lt; 1 )
<a name="l00266"></a>00266                                         $val = 0;
<a name="l00267"></a>00267                                 <span class="keywordflow">return</span> round( $val );
<a name="l00268"></a>00268                                 <span class="keywordflow">break</span>;
<a name="l00269"></a>00269                         <span class="keywordflow">case</span> 'critical' :
<a name="l00270"></a>00270                                 <span class="keywordflow">if</span>( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'W'</span> ) {
<a name="l00271"></a>00271                                         $key = 'melee';
<a name="l00272"></a>00272                                 }
<a name="l00273"></a>00273                                 elseif( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'B'</span> ) {
<a name="l00274"></a>00274                                         $key = 'ranged';
<a name="l00275"></a>00275                                 }
<a name="l00276"></a>00276                                 elseif( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'S'</span> ) {
<a name="l00277"></a>00277                                         $key = 'cast';
<a name="l00278"></a>00278                                 }
<a name="l00279"></a>00279                                 $val = $this -&gt; pl -&gt; GetSkill( $key, FALSE );
<a name="l00280"></a>00280                                 <span class="keywordflow">if</span>( $val &lt; 1 )
<a name="l00281"></a>00281                                         $kr = 1;
<a name="l00282"></a>00282                                 elseif( $val &lt; 5 )
<a name="l00283"></a>00283                                         $kr = $val;
<a name="l00284"></a>00284                                 <span class="keywordflow">else</span>
<a name="l00285"></a>00285                                         $kr = ( $val / 100 ) + 5;
<a name="l00286"></a>00286                                 <span class="keywordflow">return</span> $kr;
<a name="l00287"></a>00287                                 <span class="keywordflow">break</span>;
<a name="l00288"></a>00288                         <span class="keywordflow">case</span> 'miss' :
<a name="l00289"></a>00289                                 $val = $this -&gt; pl -&gt; dex + $this -&gt; pl -&gt; miss;
<a name="l00290"></a>00290                                 <span class="keywordflow">if</span>( in_array( $this -&gt; pl -&gt; clas, array( 'Wojownik', 'Barbarzynca', 'Lowca' ) ) ) {
<a name="l00291"></a>00291                                         $val += $this -&gt; pl -&gt; level;
<a name="l00292"></a>00292                                 }
<a name="l00293"></a>00293                                 <span class="keywordflow">return</span> $val;
<a name="l00294"></a>00294                                 <span class="keywordflow">break</span>;
<a name="l00295"></a>00295                         <span class="keywordflow">case</span> 'attack' :
<a name="l00296"></a>00296                                 $val = $this -&gt; pl -&gt; dex;
<a name="l00297"></a>00297                                 <span class="keywordflow">if</span>( !empty( $this -&gt;equip['spellatk'] ) ) {
<a name="l00298"></a>00298                                         $val += $this -&gt; pl -&gt; cast;
<a name="l00299"></a>00299                                         <span class="keywordflow">if</span>( in_array( $this -&gt; pl -&gt; clas, array( 'Mag' ) ) )
<a name="l00300"></a>00300                                                 $val += $this -&gt; pl -&gt; level;
<a name="l00301"></a>00301                                 }
<a name="l00302"></a>00302                                 elseif( !empty ( $this -&gt; equip['weapon'] ) ) {
<a name="l00303"></a>00303                                         <span class="keywordflow">if</span>( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'B'</span> ) {
<a name="l00304"></a>00304                                                 $val += $this -&gt; pl -&gt; ranged;
<a name="l00305"></a>00305                                         }
<a name="l00306"></a>00306                                         elseif( $this -&gt; equip['weapon']['type'] == <span class="charliteral">'W'</span> ) {
<a name="l00307"></a>00307                                                 $val += $this -&gt; pl -&gt; melee;
<a name="l00308"></a>00308                                                 <span class="keywordflow">if</span>( in_array( $this -&gt; pl -&gt; clas, array( 'Wojownik', 'Barbarzynca' ) ) ) {
<a name="l00309"></a>00309                                                         $val += $this -&gt; pl -&gt; level;
<a name="l00310"></a>00310                                                 }
<a name="l00311"></a>00311                                         }
<a name="l00312"></a>00312                                 }
<a name="l00313"></a>00313                                 <span class="keywordflow">return</span> $val;
<a name="l00314"></a>00314                                 <span class="keywordflow">break</span>;
<a name="l00315"></a>00315                         <span class="keywordflow">case</span> 'exp' :
<a name="l00316"></a>00316                                 $val = rand( 5, 10 ) * $this -&gt; pl -&gt; level;
<a name="l00317"></a>00317                                 <span class="keywordflow">return</span> $val;
<a name="l00318"></a>00318                         <span class="keywordflow">case</span> 'gold' :
<a name="l00319"></a>00319                                 $val = round( $this -&gt; pl -&gt; gold / 10 );
<a name="l00320"></a>00320                                 <span class="keywordflow">return</span> $val;
<a name="l00321"></a>00321                         <span class="keywordflow">default</span> :
<a name="l00322"></a>00322                                 trigger_error( <span class="stringliteral">"Nieobslugwiwana wartosc $field !"</span>, E_USER_WARNING );
<a name="l00323"></a>00323                                 <span class="keywordflow">return</span> 0;
<a name="l00324"></a>00324                                 <span class="keywordflow">break</span>;
<a name="l00325"></a>00325                 }
<a name="l00326"></a>00326                 
<a name="l00327"></a>00327         }
<a name="l00328"></a>00328         
<a name="l00330"></a>00330 
<a name="l00339"></a><a class="code" href="classFighter.html#8357a9848c2bb7a54a155dfa091628cf">00339</a>         function CombatEquipWt( $what, $amount ) {
<a name="l00340"></a>00340                 <span class="keywordflow">if</span>( empty( $this -&gt; equip[$what] ) ) {
<a name="l00341"></a>00341                         trigger_error( <span class="stringliteral">"Ta czesc ekwipunku $what nie istnieje !"</span>, E_USER_WARNING );
<a name="l00342"></a>00342                         <span class="keywordflow">return</span> FALSE;
<a name="l00343"></a>00343                 }
<a name="l00344"></a>00344                 <span class="keywordflow">if</span>( in_array( $this -&gt; equip[$what]['type'], array( <span class="charliteral">'Z'</span>, <span class="charliteral">'S'</span> ) ) ) {
<a name="l00345"></a>00345                         <span class="keywordflow">return</span> TRUE;
<a name="l00346"></a>00346                 }
<a name="l00347"></a>00347                 <span class="keywordflow">if</span>( $this -&gt; equip[$what]['type'] == <span class="charliteral">'B'</span> ) {
<a name="l00348"></a>00348                         $this -&gt; CombatEquipWt( 'arrows', $amount );
<a name="l00349"></a>00349                 }
<a name="l00350"></a>00350                 <span class="keywordflow">if</span>( $this -&gt; equip[$what]['wt'] - $amount &gt; 0 ) {
<a name="l00351"></a>00351                         <span class="comment">//$this -&gt;SqlExec( "UPDATE equipment SET wt = wt - $amount WHERE id={$this -&gt; equip[$what]['id']}" );</span>
<a name="l00352"></a>00352                         $this -&gt; equip[$what]['wt'] -= $amount;
<a name="l00353"></a>00353                 }
<a name="l00354"></a>00354                 <span class="keywordflow">else</span> {
<a name="l00355"></a>00355                         <span class="comment">//$this -&gt; SqlExec( "DELETE FROM equipment WHERE id={$this -&gt; equip[$what]['id']}" );</span>
<a name="l00356"></a>00356                         echo <span class="stringliteral">"usuwam {$this-&gt;equip[$what]['name']} :: {$this-&gt;equip[$what]['id']}!&lt;br&gt;"</span>;
<a name="l00357"></a>00357                         <span class="comment">//print_r( $this -&gt; pl -&gt; GetEquipped() );</span>
<a name="l00358"></a>00358                         $this -&gt; pl -&gt; EquipDelete( $this -&gt; equip[$what]['<span class="keywordtype">id</span>'], 'equip' );
<a name="l00359"></a>00359                         unset( $this -&gt; equip[$what] );
<a name="l00360"></a>00360                         print_r( $this -&gt; equip[$what] );
<a name="l00361"></a>00361                 }
<a name="l00362"></a>00362                 $this -&gt; sync = FALSE;
<a name="l00363"></a>00363                 <span class="keywordflow">return</span> TRUE;
<a name="l00364"></a>00364         }
<a name="l00365"></a><a class="code" href="classFighter.html#6cf296bc4cfadba623234962e9fd5cab">00365</a>         function ApplyChanges() {
<a name="l00366"></a>00366                 <span class="keywordflow">if</span>( $this -&gt; sync === TRUE ) {
<a name="l00367"></a>00367                         <span class="keywordflow">return</span>;
<a name="l00368"></a>00368                 }
<a name="l00369"></a>00369                 <span class="comment">//echo "\t--Synchronizowanie {$this -&gt; name}\n";</span>
<a name="l00370"></a>00370                 $statch = <span class="keyword">false</span>;
<a name="l00371"></a>00371                 foreach( $this -&gt; stats as $key =&gt; $stat ) {
<a name="l00372"></a>00372                         <span class="keywordflow">if</span>( isset( $this -&gt; statarr[$key] ) ) {
<a name="l00373"></a>00373                                 <span class="comment">//echo "\t------- porownanie zmian $key =&gt; $stat\n";</span>
<a name="l00374"></a>00374                                 $field = $this -&gt; statarr[$key];
<a name="l00375"></a>00375                                 <span class="keywordflow">if</span>( $stat != $this -&gt; pl -&gt; $field ) {
<a name="l00376"></a>00376                                         <span class="comment">//echo "\t----$field rozni sie ! Przed walka: {$this -&gt; pl -&gt; $field} || Po walce: $stat &lt;br&gt;";</span>
<a name="l00377"></a>00377                                         $this -&gt; pl -&gt; $field = $stat;
<a name="l00378"></a>00378                                         $statch = <span class="keyword">true</span>;
<a name="l00379"></a>00379                                 }
<a name="l00380"></a>00380                         }
<a name="l00381"></a>00381                 }
<a name="l00382"></a>00382                 <span class="keywordflow">if</span>( $statch == <span class="keyword">true</span> ) {
<a name="l00383"></a>00383                         PutSignal( $this -&gt; <span class="keywordtype">id</span>, 'misc' );
<a name="l00384"></a>00384                 }
<a name="l00385"></a>00385                 $eqch = <span class="keyword">false</span>;
<a name="l00386"></a>00386                 foreach( $this -&gt; equip as $key =&gt; $item ) {
<a name="l00387"></a>00387                         $oryg = $this -&gt; pl -&gt; GetEquipped( $key );
<a name="l00388"></a>00388                         $diff = array_diff_assoc( $item, $oryg[$key] );
<a name="l00389"></a>00389                         <span class="keywordflow">if</span>( !empty( $diff ) ) {
<a name="l00390"></a>00390                                 <span class="comment">//print_r( $diff );</span>
<a name="l00391"></a>00391                                 $this -&gt; pl -&gt; SetEquip( 'equip', $key, $diff );
<a name="l00392"></a>00392                                 $eqch = <span class="keyword">true</span>;
<a name="l00393"></a>00393                         }
<a name="l00394"></a>00394                 }
<a name="l00395"></a>00395                 <span class="keywordflow">if</span>( $eqch == <span class="keyword">true</span> ) {
<a name="l00396"></a>00396                         PutSignal( $this -&gt; <span class="keywordtype">id</span>, 'equip' );
<a name="l00397"></a>00397                 }
<a name="l00398"></a>00398                 <span class="comment">//echo "\t--Gotowe\n";</span>
<a name="l00399"></a>00399                 $this -&gt; sync = TRUE;
<a name="l00400"></a>00400         }
<a name="l00401"></a><a class="code" href="classFighter.html#caa055f718134a97550c54369e1db579">00401</a>         function Restart() {
<a name="l00402"></a>00402                 $this -&gt; stats['fatigue'] = $this -&gt; pl -&gt; con;
<a name="l00403"></a>00403                 <span class="keywordflow">return</span> TRUE;
<a name="l00404"></a>00404         }
<a name="l00405"></a>00405 }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 <span class="keyword">class </span>Fighter_monster Extends <a class="code" href="classFighter.html">Fighter</a> {
<a name="l00408"></a>00408         <span class="keyword">private</span> $equip;
<a name="l00409"></a>00409         <span class="keyword">public</span> $type;
<a name="l00410"></a>00410         <span class="keyword">private</span> $fatugie;
<a name="l00411"></a>00411         <span class="keyword">private</span> $stats;
<a name="l00412"></a>00412         <span class="keyword">private</span> $statarr;
<a name="l00413"></a><a class="code" href="classFighter.html#ec050fd66a311379b830a8dca5008996">00413</a>         <span class="keyword">private</span> $dbstats;
<a name="l00414"></a><a class="code" href="classFighter.html#6226a01a9ca90ea1bc0af10dd0ffeddf">00414</a>         function __construct( $mid, $name = NULL ) {
<a name="l00415"></a>00415                 $mon = $this -&gt; SqlExec( <span class="stringliteral">"SELECT * FROM monsters WHERE id=$mid"</span>, <span class="keyword">true</span> );
<a name="l00416"></a>00416                 $statarr = array( 'str'=&gt;'strength<span class="charliteral">','</span>dex'=&gt;'agility<span class="charliteral">','</span>con'=&gt;'endurance<span class="charliteral">','</span>spd'=&gt;'speed<span class="charliteral">','</span>hp'=&gt;'hp<span class="charliteral">','</span>name'=&gt;'name<span class="charliteral">','</span><span class="keywordtype">id</span>'=&gt;'<span class="keywordtype">id</span>', 'level' =&gt; 'level<span class="charliteral">','</span>exp1'=&gt;'exp1<span class="charliteral">','</span>exp2'=&gt;'exp2<span class="charliteral">','</span>gold1'=&gt;'credits1<span class="charliteral">','</span>gold2'=&gt;'credits2');
<a name="l00417"></a>00417                 $this -&gt; statarr = $statarr;
<a name="l00418"></a>00418                 
<a name="l00419"></a>00419                 $dbstats = array_shift( $mon -&gt; GetArray() );
<a name="l00420"></a>00420                 $this -&gt; dbstats = $dbstats;
<a name="l00421"></a>00421                 foreach( $statarr as $key =&gt; $item ) {
<a name="l00422"></a>00422                         $this -&gt; stats[$key] = $dbstats[$item];
<a name="l00423"></a>00423                 }
<a name="l00424"></a>00424                 $this -&gt; stats['fatigue'] = 1;
<a name="l00425"></a>00425                 $this -&gt; stats['gold'] = 0;
<a name="l00426"></a>00426                 $this -&gt; type = 'monster';
<a name="l00427"></a>00427                 <span class="keywordflow">if</span>( $name ) {
<a name="l00428"></a>00428                         $this -&gt; name = $name;
<a name="l00429"></a>00429                 }
<a name="l00430"></a>00430                 <span class="comment">//print_r( $this -&gt; stats );</span>
<a name="l00431"></a>00431         }
<a name="l00432"></a>00432         
<a name="l00433"></a><a class="code" href="classFighter.html#5c4b23b5a8357c7068762695540644a7">00433</a>         function __get( $val ) {
<a name="l00434"></a>00434                 <span class="keywordflow">return</span> $this -&gt; GetStat( $val );
<a name="l00435"></a>00435         }
<a name="l00436"></a>00436 
<a name="l00437"></a><a class="code" href="classFighter.html#6f6fb1b76d74b1660d6cbccff7b3520e">00437</a>         function __set( $field, $val ) {
<a name="l00438"></a>00438                 <span class="keywordflow">if</span>( !isset( $this -&gt; stats[$field] ) ) {
<a name="l00439"></a>00439                         trigger_error( <span class="stringliteral">"Nieobslugwiwana wartosc __set :: $field !"</span>, E_USER_WARNING );
<a name="l00440"></a>00440                         <span class="keywordflow">return</span> FALSE;
<a name="l00441"></a>00441                 }
<a name="l00442"></a>00442                 <span class="keywordflow">if</span>( in_array( $field, array( 'fatigue' ) ) ) {
<a name="l00443"></a>00443                         <span class="keywordflow">return</span> TRUE;
<a name="l00444"></a>00444                 }
<a name="l00445"></a>00445                 $this -&gt; stats[$field] = $val;
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447 
<a name="l00448"></a><a class="code" href="classFighter.html#9ad7f5bc9a6125d4bc717543b3cc67bb">00448</a>         function AwardExp( $exp ){
<a name="l00449"></a>00449                 <span class="keywordflow">return</span> TRUE;
<a name="l00450"></a>00450         }
<a name="l00451"></a><a class="code" href="classFighter.html#ba21a412bcf266cebd27242c40d8467c">00451</a>         function AwardSkill( $skills ){
<a name="l00452"></a>00452                 <span class="keywordflow">return</span> TRUE;
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454 
<a name="l00455"></a><a class="code" href="classFighter.html#ccc7e20c14f662b14e659aa0b0c8e503">00455</a>         function GetStat( $stat ) {
<a name="l00456"></a>00456                 <span class="keywordflow">if</span>( !isset( $this -&gt; stats[$stat] ) ) {
<a name="l00457"></a>00457                         trigger_error( <span class="stringliteral">"Nieobslugwiwana wartosc GetStat :: $stat !"</span>, E_USER_WARNING );
<a name="l00458"></a>00458                         <span class="keywordflow">return</span> FALSE;
<a name="l00459"></a>00459                 }
<a name="l00460"></a>00460                 <span class="keywordflow">return</span> $this -&gt; stats[$stat];
<a name="l00461"></a>00461                 <span class="comment">/*switch ( $stat ) {</span>
<a name="l00462"></a>00462 <span class="comment">                        case 'name' :</span>
<a name="l00463"></a>00463 <span class="comment">                                return $this -&gt; stats['name'];</span>
<a name="l00464"></a>00464 <span class="comment">                                break;</span>
<a name="l00465"></a>00465 <span class="comment">                        case 'hp' :</span>
<a name="l00466"></a>00466 <span class="comment">                                return $this -&gt; stats['hp'];</span>
<a name="l00467"></a>00467 <span class="comment">                                break;</span>
<a name="l00468"></a>00468 <span class="comment">                        case 'con' :</span>
<a name="l00469"></a>00469 <span class="comment">                                return $this -&gt; stats['endurance'];</span>
<a name="l00470"></a>00470 <span class="comment">                                break;</span>
<a name="l00471"></a>00471 <span class="comment">                        case 'str' :</span>
<a name="l00472"></a>00472 <span class="comment">                                return $this -&gt; stats['strenght'];</span>
<a name="l00473"></a>00473 <span class="comment">                                break;</span>
<a name="l00474"></a>00474 <span class="comment">                        case 'spd' :</span>
<a name="l00475"></a>00475 <span class="comment">                                return $this -&gt; stats['speed'];</span>
<a name="l00476"></a>00476 <span class="comment">                        case 'dex' :</span>
<a name="l00477"></a>00477 <span class="comment">                                return $this -&gt; stats['agility'];</span>
<a name="l00478"></a>00478 <span class="comment">                        case 'fatigue' :</span>
<a name="l00479"></a>00479 <span class="comment">                                return 1;</span>
<a name="l00480"></a>00480 <span class="comment">                                break;</span>
<a name="l00481"></a>00481 <span class="comment">                        default :</span>
<a name="l00482"></a>00482 <span class="comment">                                trigger_error( "Nieobslugwiwana wartosc GetStat :: $field !", E_USER_WARNING );</span>
<a name="l00483"></a>00483 <span class="comment">                                return 0;</span>
<a name="l00484"></a>00484 <span class="comment">                }*/</span>
<a name="l00485"></a>00485         }
<a name="l00486"></a>00486 
<a name="l00487"></a><a class="code" href="classFighter.html#836b5eaff9e81e0d442503c8afbfb39a">00487</a>         function GetWpnType() {
<a name="l00488"></a>00488                 <span class="keywordflow">return</span> 'monster';
<a name="l00489"></a>00489         }
<a name="l00490"></a>00490         
<a name="l00492"></a>00492 
<a name="l00508"></a><a class="code" href="classFighter.html#325bec9be03e4451193f8ab3a75eb7ea">00508</a>         function CombatGetVal( $field ) {
<a name="l00509"></a>00509                 $val = 0;
<a name="l00510"></a>00510                 $bon = 0;
<a name="l00511"></a>00511                 $pen = 0;
<a name="l00512"></a>00512                 
<a name="l00513"></a>00513                 <span class="keywordflow">switch</span> ( $field ) {
<a name="l00514"></a>00514                         <span class="keywordflow">case</span> 'armor' :
<a name="l00515"></a>00515                                 $val = $this -&gt; con;
<a name="l00516"></a>00516                                 <span class="keywordflow">return</span> $val;
<a name="l00517"></a>00517                                 <span class="keywordflow">break</span>;
<a name="l00518"></a>00518                         <span class="keywordflow">case</span> 'damage' :
<a name="l00519"></a>00519                                 <span class="comment">//print_r( $this -&gt; stats );</span>
<a name="l00520"></a>00520                                 $val = $this -&gt; str;
<a name="l00521"></a>00521                                 $rand = rand( 1, ( $this -&gt; level * 10 ) );
<a name="l00522"></a>00522                                 <span class="comment">//echo "$rand\n";</span>
<a name="l00523"></a>00523                                 <span class="keywordflow">return</span> round( $val + $rand );
<a name="l00524"></a>00524                                 <span class="keywordflow">break</span>;
<a name="l00525"></a>00525                         <span class="keywordflow">case</span> 'critical' :
<a name="l00526"></a>00526 
<a name="l00527"></a>00527                                 <span class="keywordflow">return</span> $kr;
<a name="l00528"></a>00528                                 <span class="keywordflow">break</span>;
<a name="l00529"></a>00529                         <span class="keywordflow">case</span> 'miss' :
<a name="l00530"></a>00530                                 $val = $this -&gt; dex;
<a name="l00531"></a>00531                                 <span class="keywordflow">return</span> $val;
<a name="l00532"></a>00532                                 <span class="keywordflow">break</span>;
<a name="l00533"></a>00533                         <span class="keywordflow">case</span> 'attack' :
<a name="l00534"></a>00534                                 $val = $this -&gt; dex;
<a name="l00535"></a>00535                                 <span class="keywordflow">return</span> $val;
<a name="l00536"></a>00536                                 <span class="keywordflow">break</span>;
<a name="l00537"></a>00537                         <span class="keywordflow">case</span> 'exp' :
<a name="l00538"></a>00538                                 $val = rand( $this -&gt; exp1, $this -&gt; exp2 );
<a name="l00539"></a>00539                                 <span class="keywordflow">return</span> $val;
<a name="l00540"></a>00540                         <span class="keywordflow">case</span> 'gold' :
<a name="l00541"></a>00541                                 $val = rand( $this -&gt; gold1, $this -&gt; gold2 );
<a name="l00542"></a>00542                                 <span class="keywordflow">return</span> $val;
<a name="l00543"></a>00543                         <span class="keywordflow">default</span> :
<a name="l00544"></a>00544                                 trigger_error( <span class="stringliteral">"Nieobslugwiwana wartosc $field !"</span>, E_USER_WARNING );
<a name="l00545"></a>00545                                 <span class="keywordflow">return</span> 0;
<a name="l00546"></a>00546                                 <span class="keywordflow">break</span>;
<a name="l00547"></a>00547                 }
<a name="l00548"></a>00548         }
<a name="l00549"></a>00549         
<a name="l00551"></a>00551 
<a name="l00560"></a><a class="code" href="classFighter.html#8357a9848c2bb7a54a155dfa091628cf">00560</a>         function CombatEquipWt( $what, $amount ) {
<a name="l00561"></a>00561                 <span class="keywordflow">return</span> TRUE;
<a name="l00562"></a>00562         }
<a name="l00563"></a><a class="code" href="classFighter.html#6cf296bc4cfadba623234962e9fd5cab">00563</a>         function ApplyChanges() {
<a name="l00564"></a>00564                 <span class="keywordflow">return</span> TRUE;
<a name="l00565"></a>00565         }
<a name="l00566"></a><a class="code" href="classFighter.html#caa055f718134a97550c54369e1db579">00566</a>         function Restart() {
<a name="l00567"></a>00567                 <span class="comment">//$this -&gt; dbstats = $dbstats;</span>
<a name="l00568"></a>00568                 $this -&gt; hp = $this -&gt; dbstats['hp'];
<a name="l00569"></a>00569                 $this -&gt; stats['fatigue'] = 1;
<a name="l00570"></a>00570         }
<a name="l00571"></a>00571 }
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 
<a name="l00574"></a>00574 ?&gt;
</pre></div><hr size="1"><address style="align: right;"><small>Wygenerowano Wed Jan 24 21:54:54 2007 dla KaraTur Class programem&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
